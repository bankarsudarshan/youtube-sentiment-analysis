schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/data_ingestion.py
    deps:
    - path: src/data_ingestion.py
      hash: md5
      md5: c1b408c14eb8fe2b9fbf2053e071d503
      size: 3193
    params:
      params.yaml:
        data_ingestion.test_size: 0.3
    outs:
    - path: data/raw
      hash: md5
      md5: 1c350d494c382a4275e629c93341cfcf.dir
      size: 6882906
      nfiles: 2
  data_preprocessing:
    cmd: python src/data_preprocessing.py
    deps:
    - path: data/raw/
      hash: md5
      md5: 1c350d494c382a4275e629c93341cfcf.dir
      size: 6882906
      nfiles: 2
    - path: src/data_preprocessing.py
      hash: md5
      md5: 40a0b57eb670209af1a7d7b7afacfdae
      size: 3544
    outs:
    - path: data/processed/test_processed.csv
      hash: md5
      md5: 1f67ea5d63d05253676fbb5ff9a84f98
      size: 1501948
    - path: data/processed/train_processed.csv
      hash: md5
      md5: 0df0bf25d2563d81c2fe136c55687a52
      size: 3596107
  feature_engineering:
    cmd: python src/feature_engineering.py
    deps:
    - path: data/processed
      hash: md5
      md5: a2bbccdc23dd271231099f8d5c99ff87.dir
      size: 5098055
      nfiles: 2
    - path: src/feature_engineering.py
      hash: md5
      md5: 1030ab6a233fafb5c5a7b7357ce8481c
      size: 3695
    outs:
    - path: data/feature-engineered
      hash: md5
      md5: ffc5b0a79a3bd3266c76f50b1d859253.dir
      size: 122163204
      nfiles: 1
    - path: models/tfidf_vectorizer.pkl
      hash: md5
      md5: 577a1e4e948129cdfdfacf1196962b06
      size: 36630
  model_building:
    cmd: python src/model_building.py
    deps:
    - path: data/processed/train_processed.csv
      hash: md5
      md5: 0df0bf25d2563d81c2fe136c55687a52
      size: 3596107
    - path: src/model_building.py
      hash: md5
      md5: 98dfae3a272ad77a49c4b96fc6c4c197
      size: 4706
    params:
      params.yaml:
        model_building.learning_rate: 0.05
        model_building.max_depth: 20
        model_building.max_features: 1000
        model_building.n_estimators: 367
        model_building.ngram_range:
        - 1
        - 3
    outs:
    - path: models/lgbm_model.pkl
      hash: md5
      md5: 4f41e9d0155048a626d5726615f8b7e3
      size: 3902965
    - path: models/tfidf_vectorizer.pkl
      hash: md5
      md5: 56c2590ada06e4aa5b9b464d4b3abba3
      size: 36852
  model_evaluation:
    cmd: python src/model_evaluation.py
    deps:
    - path: data/processed/test_processed.csv
      hash: md5
      md5: 1f67ea5d63d05253676fbb5ff9a84f98
      size: 1501948
    - path: models/lgbm_model.pkl
      hash: md5
      md5: 4f41e9d0155048a626d5726615f8b7e3
      size: 3902965
    - path: models/tfidf_vectorizer.pkl
      hash: md5
      md5: 56c2590ada06e4aa5b9b464d4b3abba3
      size: 36852
    - path: src/model_evaluation.py
      hash: md5
      md5: d5fab3c32b8c1f3618bc1bd9127e9eee
      size: 3523
    outs:
    - path: reports/confusion_matrix.png
      hash: md5
      md5: f873258602b1c0a213d8725915676869
      size: 23478
    - path: reports/metrics.json
      hash: md5
      md5: d31045b5ab488795aab1587169c3d378
      size: 875
